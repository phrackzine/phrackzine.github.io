<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <meta http-equiv="content-language" content="en" />
   <meta name="description" content="Phrack staff website." />
   <meta name="keywords" content="phrack" />
   <meta name="robots" content="follow,index,all" />

   <meta name="revisit-after" content="7 days" />
   
   <title>.:: Phrack Magazine ::.</title>
   
   <link href="../../css/style.css" rel="stylesheet" type="text/css">
</head>
<body id="top">
<div align="center" class="texto-2-bold">
[ <a href="../../index.html" title="News">News</a> ]
[ <a href="../../" title="Paper Feed">Paper Feed</a> ]
[ <a href="../../issues/71/1.html" title="Issues">Issues</a> ]
[ <a href="../../authors.html" title="Authors">Authors</a> ]
[ <a href="../../archives/" title="Archives">Archives</a> ]
[ <a href="../../contact.html" title="Contact">Contact</a> ]

</div>

<center>
   <br>
   <br>
   <img width="600" src="../../images/phrack-logo.jpg" alt="..[ Phrack Magazine ]..">
   <br>

   <div class="texto-2">
   <div class="p-title">.:: Automatic Number Identification ::.</div>
   <hr width="600" />
   </div>
   
   <div style="padding-top: 4px; padding-bottom: 4px;">
<div class="around">

<div class="details"><strong>Issues</strong>: 
[ <a href="../../issues/1/1.html" title="Issue 1">1</a> ] [ <a href="../../issues/2/1.html" title="Issue 2">2</a> ] [ <a href="../../issues/3/1.html" title="Issue 3">3</a> ] [ <a href="../../issues/4/1.html" title="Issue 4">4</a> ] [ <a href="../../issues/5/1.html" title="Issue 5">5</a> ] [ <a href="../../issues/6/1.html" title="Issue 6">6</a> ] [ <a href="../../issues/7/1.html" title="Issue 7">7</a> ] [ <a href="../../issues/8/1.html" title="Issue 8">8</a> ] [ <a href="../../issues/9/1.html" title="Issue 9">9</a> ] [ <a class="current" href="../../issues/10/1.html" title="Issue 10">10</a> ] [ <a href="../../issues/11/1.html" title="Issue 11">11</a> ] [ <a href="../../issues/12/1.html" title="Issue 12">12</a> ] [ <a href="../../issues/13/1.html" title="Issue 13">13</a> ] [ <a href="../../issues/14/1.html" title="Issue 14">14</a> ] [ <a href="../../issues/15/1.html" title="Issue 15">15</a> ] [ <a href="../../issues/16/1.html" title="Issue 16">16</a> ] [ <a href="../../issues/17/1.html" title="Issue 17">17</a> ] [ <a href="../../issues/18/1.html" title="Issue 18">18</a> ] [ <a href="../../issues/19/1.html" title="Issue 19">19</a> ] [ <a href="../../issues/20/1.html" title="Issue 20">20</a> ] [ <a href="../../issues/21/1.html" title="Issue 21">21</a> ] [ <a href="../../issues/22/1.html" title="Issue 22">22</a> ] [ <a href="../../issues/23/1.html" title="Issue 23">23</a> ] [ <a href="../../issues/24/1.html" title="Issue 24">24</a> ] [ <a href="../../issues/25/1.html" title="Issue 25">25</a> ] [ <a href="../../issues/26/1.html" title="Issue 26">26</a> ] [ <a href="../../issues/27/1.html" title="Issue 27">27</a> ] [ <a href="../../issues/28/1.html" title="Issue 28">28</a> ] [ <a href="../../issues/29/1.html" title="Issue 29">29</a> ] [ <a href="../../issues/30/1.html" title="Issue 30">30</a> ] [ <a href="../../issues/31/1.html" title="Issue 31">31</a> ] [ <a href="../../issues/32/1.html" title="Issue 32">32</a> ] [ <a href="../../issues/33/1.html" title="Issue 33">33</a> ] [ <a href="../../issues/34/1.html" title="Issue 34">34</a> ] [ <a href="../../issues/35/1.html" title="Issue 35">35</a> ] [ <a href="../../issues/36/1.html" title="Issue 36">36</a> ] [ <a href="../../issues/37/1.html" title="Issue 37">37</a> ] [ <a href="../../issues/38/1.html" title="Issue 38">38</a> ] [ <a href="../../issues/39/1.html" title="Issue 39">39</a> ] [ <a href="../../issues/40/1.html" title="Issue 40">40</a> ] [ <a href="../../issues/41/1.html" title="Issue 41">41</a> ] [ <a href="../../issues/42/1.html" title="Issue 42">42</a> ] [ <a href="../../issues/43/1.html" title="Issue 43">43</a> ] [ <a href="../../issues/44/1.html" title="Issue 44">44</a> ] [ <a href="../../issues/45/1.html" title="Issue 45">45</a> ] [ <a href="../../issues/46/1.html" title="Issue 46">46</a> ] [ <a href="../../issues/47/1.html" title="Issue 47">47</a> ] [ <a href="../../issues/48/1.html" title="Issue 48">48</a> ] [ <a href="../../issues/49/1.html" title="Issue 49">49</a> ] [ <a href="../../issues/50/1.html" title="Issue 50">50</a> ] [ <a href="../../issues/51/1.html" title="Issue 51">51</a> ] [ <a href="../../issues/52/1.html" title="Issue 52">52</a> ] [ <a href="../../issues/53/1.html" title="Issue 53">53</a> ] [ <a href="../../issues/54/1.html" title="Issue 54">54</a> ] [ <a href="../../issues/55/1.html" title="Issue 55">55</a> ] [ <a href="../../issues/56/1.html" title="Issue 56">56</a> ] [ <a href="../../issues/57/1.html" title="Issue 57">57</a> ] [ <a href="../../issues/58/1.html" title="Issue 58">58</a> ] [ <a href="../../issues/59/1.html" title="Issue 59">59</a> ] [ <a href="../../issues/60/1.html" title="Issue 60">60</a> ] [ <a href="../../issues/61/1.html" title="Issue 61">61</a> ] [ <a href="../../issues/62/1.html" title="Issue 62">62</a> ] [ <a href="../../issues/63/1.html" title="Issue 63">63</a> ] [ <a href="../../issues/64/1.html" title="Issue 64">64</a> ] [ <a href="../../issues/65/1.html" title="Issue 65">65</a> ] [ <a href="../../issues/66/1.html" title="Issue 66">66</a> ] [ <a href="../../issues/67/1.html" title="Issue 67">67</a> ] [ <a href="../../issues/68/1.html" title="Issue 68">68</a> ] [ <a href="../../issues/69/1.html" title="Issue 69">69</a> ] [ <a href="../../issues/70/1.html" title="Issue 70">70</a> ] [ <a href="../../issues/71/1.html" title="Issue 71">71</a> ] 
</div>
<div class="opt" align="center"><div class="rt"><a href="../../archives/tgz/phrack10.tar.gz" title="Get current issue tar.gz">Get tar.gz</a></div><strong>Current issue</strong> : #<a href="../../archives/tgz/phrack10.tar.gz" title="Get current issue tar.gz">10</a> | <strong>Release date</strong> : <b>1987-01-01</b> | <strong>Editor</strong> : <b>Taran King</b></div>

<div style="border-top: 1px solid black; border-bottom: 2px solid black">
<table class="tissue" cellpadding="0" cellspacing="0">
   <tbody>
      <tr><td align="left"><a href="../../issues/10/1.html#article">Introduction to Phrack 10</a></td><td align="right">Taran King</td></tr>
<tr><td align="left"><a href="../../issues/10/2.html#article">Pro-Phile on Dave Starr</a></td><td align="right">Taran King</td></tr>
<tr><td align="left"><a href="../../issues/10/3.html#article">The TMC Primer by Cap'n Crax</a></td><td align="right">Cap'n Crax</td></tr>
<tr><td align="left"><a href="../../issues/10/4.html#article">A Beginner's Guide to the IBM VM/370</a></td><td align="right">Elric of Imrryr</td></tr>
<tr><td align="left"><a href="../../issues/10/5.html#article">Circuit Switched Digital Capability</a></td><td align="right">The Executioner</td></tr>
<tr><td align="left"><a href="../../issues/10/6.html#article">Hacking Primos Part I</a></td><td align="right">Evil Jay</td></tr>
<tr><td align="left"><a href="../../issues/10/7.html#article">Automatic Number Identification</a></td><td align="right">Doom Prophet &amp; Phantom Phreaker</td></tr>
<tr><td align="left"><a href="../../issues/10/8.html#article">Phrack World News 9 Part I</a></td><td align="right">Knight Lightning</td></tr>
<tr><td align="left"><a href="../../issues/10/9.html#article">Phrack World News 9 Part II</a></td><td align="right">Knight Lightning</td></tr>

   </tbody>
</table>

<div class="opt" id="article"><strong>Title</strong> : Automatic Number Identification</div>
<div class="opt-bottom"> <strong>Author</strong> : Doom Prophet &amp; Phantom Phreaker</div>
<pre>                               ==Phrack Inc.==

                     Volume Two, Issue Ten, Phile #7 of 9

                       Automatic Number Idenfification


                 Written by Doom Prophet and Phantom Phreaker


    Automatic Number Identification (ANI) is nothing more than automatic means
for immediately identifying the Directory Number of a calling subscriber. This
process made it possible to utilize CAMA* (Centralized Automatic Message
Accounting) systems in SxS, Panel, and Xbar #1 offices.

    The identity of the calling line is determined by ANI circuits installed
in the types of CO's mentioned above. Xbar#5 offices have their own AMA
(Automatic Message Accounting) equipment and utilize an AMA translator for
automatically identifying the calling line.

    Before ANI was developed, each subscriber line (also called a local loop)
had a mechanical marking device that kept track of toll charges. These devices
were manually photographed at the end of the billing period and the amount of
the subscribers bill was determined from that. This process was time
consuming, so a new system (ANI) was developed.

      The major components of the ANI system used in SxS and Crossbar #1 are:

Directory number network and bus arrangement* for connecting the sleeve(the
lead that is added to the R(ing) and T(ip) wires of a cable pair at the MDF*
(Main Distribution Frame));

A lead of each line number through an identifier connector to the identifier
circuit;

Outpulser and Identifier connector circuit to seize an idle Identifier;

Identifier circuit to ascertain the calling party's number and send it to the
outpulser for subsequent transmission through the outpulser link to the ANI
outgoing trunk;

An ANI outgoing trunk to a Tandem office equipped with a CAMA system.

    The following is a synopsis of the ANI operations with respect to a toll
call through a #1Xbar office. The call is handled in the normal manner by the
CO equipment and is routed through an ANI outgoing trunk to a Tandem office.
The identification process starts as soon as all digits of the called number
are received by the CAMA sender in the Tandem office and when the district
junctor in the Xbar office advances to its cut-through position (a position of
the connecting circuits or paths between the line-link and trunk-link frames
in the CO).

      Upon receiving the start identification signal from the CAMA equipment,
the ANI outgoing trunk (OGT) establishes a connection through an outpulser
link to an idle outpulser circuit. An idle identifier is then seized by the
outpulser circuit through an internal Identifier connector unit. Then the
identifier through the connector unit connects to the directory number network
and bus system.

    At the same time, the identifier will signal the ANI trunk to apply a
5800Hz identification tone to the sleeve lead of the ANI trunk. The tone is
transmitted at a two-volt level over the S lead paths through the directory
number network and bus system. It will be attenuated or decreased to the
microvolt range by the time the identifier circuit is reached, necessitating
a 120dB voltage amplification by the amplifier detector equipment in the
identifier to insure proper digit identification and registration operations.

    A single ANI installation can serve as many as six CO's in a multi-office
building. The identifier starts its search for the calling line number by
testing or scanning successively the thousands secondary buses of each CO.
When the 5800Hz signal is detected, the identifier grounds corresponding leads
to the outpulser, to first register the digit of the calling office and then
the thousands digit of the calling subscriber's number. The outpulser
immediately translates the digit representing the calling office code into its
own corresponding three digit office code. The identifier continues its
scanning process successively on the groups of hundreds, tens, and units
secondary buses in the calling office, and the identified digits of the
calling number are also registered and translated in the outpulser's relay
equipment for transmission to the tandem office.
The outpulser is equipped with checking and timing features to promptly detect
and record troubles encountered (This process may be responsible for some of
the cards found while trashing). Upon completion of the scanning process, it
releases the identifier and proceeds to outpulse in MF tones the complete
calling subscriber's number to the CAMA equipment in the tandem office in the
format of KP+X+PRE+SUFF+ST where the X is an information digit. The
information digits are as follows:

0-Automatic Identification (normal)     1-Operator Identification (ONI)*
2-Identification Failure (ANIF)*

(There is also other types of outpulsing of ANI information if the calling
line has some sort of restriction on it).

    When all digits have been transmitted and the ANI trunk is cut-through for
talking, the outpulser releases.

    In the tandem office, the calling party's number is recorded on tape in
the CAMA equipment together with other data required for billing purposes.
This information, including the time of when the called station answered and
the time of disconnect, goes on AMA tapes.
The tapes themselves are usually standard reel to reel magnetic tape, and are
sent to the Revenue Accounting Office or RAO at the end of the billing period.

    So, to sum the entire ANI process up:

The toll call is made. The CO routes the call through ANI trunks where an idle
identifier is seized which then connects to the directory number network and
bus system while signalling the ANI trunk to apply the needed 5800Hz tone to
the Sleeve. The identifier begins a scanning process and determines the
calling office number and the digits of the calling subscriber's number, which
is sent by way of the outpulser in MF tones to the CAMA equipment in the
tandem office. The call information is recorded onto AMA tapes and used to
determine billing.

    Note that your number does show up on the AMA tape, if the circumstances
are correct, (any toll call, whether it is from a message-rate line or from a
flat-rate line). However, the AMA tapes do not record the calling line number
in any separated format. They are recorded on a first-come, first-serve basis.


Misc. Footnotes (denoted by an asterisk in the main article)
---------------

* ANIF-Automatic Number Identification Failure. This is when the ANI equipment
does not work properly, and could occur due to a wide variety of technical-
ities. When ANIF occurs, something called ONI (Operator Number Identification)
is used. The call is forwarded to a TSPS operator who requests the calling
line number by saying something similar to 'What number are you calling from?'

* CAMA-Centralized Automatic Message Accounting. CAMA is a system that records
call details for billing purposes. CAMA is used from a centralized location,
usually a Tandem office. CAMA is usually used to serve class 5 End Offices in
a rural area near a large city which contains a Tandem or Toll Office. CAMA is
similar to LAMA, except LAMA is localized in a specific CO and CAMA is not.

* The Directory Number Network and bus system is a network involved with the
ANI process. It is a grid of vertical and horizontal buses, grouped and class-
ified as Primary or Secondary. There are 100 vertical and 100 horizontal buses
in the Primary system. In the Secondary system, there are two sub-groups:Bus
system #1 and Bus system #2, both of which have ten horizontal and vertical
buses. These buses as a whole are linked to the Identifier in the ANI trunk
and are responsible for identifying tens, hundreds, thousands and units digits
of the calling number (After the Identifier begins its scanning process).

* MDF-Main Distribution Frame. This is the area where all cable pairs of a
certain office meet, and a third wire, the Sleeve wire, is added. The Sleeve
wire is what is used in gathering ANI information, as well as determining a
called lines status (off/on hook) in certain switching systems by presence of
voltage. (voltage present on Sleeve, line is busy, no voltage, line is idle.)

* ONI-Operator Number Identification. See ANIF footnote.

NOTE: There are also other forms of Automatic Message Accounting, such as LAMA
(Local Automatic Message Accounting). LAMA is used in the class 5 End Office
as opposed to CAMA in a Toll Office. If your End Office had LAMA, then the ANI
information would be recorded at the local level and sent from there. The LAMA
arrangement may be computerized, in which it would denoted with a C included
(LAMA-C or C-LAMA).


References and acknowledgements
-------------------------------
Basic Telephone Switching Systems (Second Edition) by David Talley
Understanding Telephone Electronics by Radio Shack/Texas Instruments

 Other sysops are allowed to use this file on their systems as long as none of
it is altered in any way.

-End of file-
 Jul 12 1986
</pre>

</div>
</div>

</center>

<div align="center" class="texto-2-bold">
[ <a href="../../index.html" title="News">News</a> ]
[ <a href="../../" title="Paper Feed">Paper Feed</a> ]
[ <a href="../../issues/71/1.html" title="Issues">Issues</a> ]
[ <a href="../../authors.html" title="Authors">Authors</a> ]
[ <a href="../../archives/" title="Archives">Archives</a> ]
[ <a href="../../contact.html" title="Contact">Contact</a> ]
</div>

<div align="right" class="texto-1">© Copyleft 1985-2024, Phrack Magazine.</div>
</body>
</html>
