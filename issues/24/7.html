<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <meta http-equiv="content-language" content="en" />
   <meta name="description" content="Phrack staff website." />
   <meta name="keywords" content="phrack" />
   <meta name="robots" content="follow,index,all" />

   <meta name="revisit-after" content="7 days" />
   
   <title>.:: Phrack Magazine ::.</title>
   
   <link href="../../css/style.css" rel="stylesheet" type="text/css">
</head>
<body id="top">
<div align="center" class="texto-2-bold">
[ <a href="../../index.html" title="News">News</a> ]
[ <a href="../../" title="Paper Feed">Paper Feed</a> ]
[ <a href="../../issues/71/1.html" title="Issues">Issues</a> ]
[ <a href="../../authors.html" title="Authors">Authors</a> ]
[ <a href="../../archives/" title="Archives">Archives</a> ]
[ <a href="../../contact.html" title="Contact">Contact</a> ]

</div>

<center>
   <br>
   <br>
   <img width="600" src="../../images/phrack-logo.jpg" alt="..[ Phrack Magazine ]..">
   <br>

   <div class="texto-2">
   <div class="p-title">.:: Advanced Bitnet Procedures ::.</div>
   <hr width="600" />
   </div>
   
   <div style="padding-top: 4px; padding-bottom: 4px;">
<div class="around">

<div class="details"><strong>Issues</strong>: 
[ <a href="../../issues/1/1.html" title="Issue 1">1</a> ] [ <a href="../../issues/2/1.html" title="Issue 2">2</a> ] [ <a href="../../issues/3/1.html" title="Issue 3">3</a> ] [ <a href="../../issues/4/1.html" title="Issue 4">4</a> ] [ <a href="../../issues/5/1.html" title="Issue 5">5</a> ] [ <a href="../../issues/6/1.html" title="Issue 6">6</a> ] [ <a href="../../issues/7/1.html" title="Issue 7">7</a> ] [ <a href="../../issues/8/1.html" title="Issue 8">8</a> ] [ <a href="../../issues/9/1.html" title="Issue 9">9</a> ] [ <a href="../../issues/10/1.html" title="Issue 10">10</a> ] [ <a href="../../issues/11/1.html" title="Issue 11">11</a> ] [ <a href="../../issues/12/1.html" title="Issue 12">12</a> ] [ <a href="../../issues/13/1.html" title="Issue 13">13</a> ] [ <a href="../../issues/14/1.html" title="Issue 14">14</a> ] [ <a href="../../issues/15/1.html" title="Issue 15">15</a> ] [ <a href="../../issues/16/1.html" title="Issue 16">16</a> ] [ <a href="../../issues/17/1.html" title="Issue 17">17</a> ] [ <a href="../../issues/18/1.html" title="Issue 18">18</a> ] [ <a href="../../issues/19/1.html" title="Issue 19">19</a> ] [ <a href="../../issues/20/1.html" title="Issue 20">20</a> ] [ <a href="../../issues/21/1.html" title="Issue 21">21</a> ] [ <a href="../../issues/22/1.html" title="Issue 22">22</a> ] [ <a href="../../issues/23/1.html" title="Issue 23">23</a> ] [ <a class="current" href="../../issues/24/1.html" title="Issue 24">24</a> ] [ <a href="../../issues/25/1.html" title="Issue 25">25</a> ] [ <a href="../../issues/26/1.html" title="Issue 26">26</a> ] [ <a href="../../issues/27/1.html" title="Issue 27">27</a> ] [ <a href="../../issues/28/1.html" title="Issue 28">28</a> ] [ <a href="../../issues/29/1.html" title="Issue 29">29</a> ] [ <a href="../../issues/30/1.html" title="Issue 30">30</a> ] [ <a href="../../issues/31/1.html" title="Issue 31">31</a> ] [ <a href="../../issues/32/1.html" title="Issue 32">32</a> ] [ <a href="../../issues/33/1.html" title="Issue 33">33</a> ] [ <a href="../../issues/34/1.html" title="Issue 34">34</a> ] [ <a href="../../issues/35/1.html" title="Issue 35">35</a> ] [ <a href="../../issues/36/1.html" title="Issue 36">36</a> ] [ <a href="../../issues/37/1.html" title="Issue 37">37</a> ] [ <a href="../../issues/38/1.html" title="Issue 38">38</a> ] [ <a href="../../issues/39/1.html" title="Issue 39">39</a> ] [ <a href="../../issues/40/1.html" title="Issue 40">40</a> ] [ <a href="../../issues/41/1.html" title="Issue 41">41</a> ] [ <a href="../../issues/42/1.html" title="Issue 42">42</a> ] [ <a href="../../issues/43/1.html" title="Issue 43">43</a> ] [ <a href="../../issues/44/1.html" title="Issue 44">44</a> ] [ <a href="../../issues/45/1.html" title="Issue 45">45</a> ] [ <a href="../../issues/46/1.html" title="Issue 46">46</a> ] [ <a href="../../issues/47/1.html" title="Issue 47">47</a> ] [ <a href="../../issues/48/1.html" title="Issue 48">48</a> ] [ <a href="../../issues/49/1.html" title="Issue 49">49</a> ] [ <a href="../../issues/50/1.html" title="Issue 50">50</a> ] [ <a href="../../issues/51/1.html" title="Issue 51">51</a> ] [ <a href="../../issues/52/1.html" title="Issue 52">52</a> ] [ <a href="../../issues/53/1.html" title="Issue 53">53</a> ] [ <a href="../../issues/54/1.html" title="Issue 54">54</a> ] [ <a href="../../issues/55/1.html" title="Issue 55">55</a> ] [ <a href="../../issues/56/1.html" title="Issue 56">56</a> ] [ <a href="../../issues/57/1.html" title="Issue 57">57</a> ] [ <a href="../../issues/58/1.html" title="Issue 58">58</a> ] [ <a href="../../issues/59/1.html" title="Issue 59">59</a> ] [ <a href="../../issues/60/1.html" title="Issue 60">60</a> ] [ <a href="../../issues/61/1.html" title="Issue 61">61</a> ] [ <a href="../../issues/62/1.html" title="Issue 62">62</a> ] [ <a href="../../issues/63/1.html" title="Issue 63">63</a> ] [ <a href="../../issues/64/1.html" title="Issue 64">64</a> ] [ <a href="../../issues/65/1.html" title="Issue 65">65</a> ] [ <a href="../../issues/66/1.html" title="Issue 66">66</a> ] [ <a href="../../issues/67/1.html" title="Issue 67">67</a> ] [ <a href="../../issues/68/1.html" title="Issue 68">68</a> ] [ <a href="../../issues/69/1.html" title="Issue 69">69</a> ] [ <a href="../../issues/70/1.html" title="Issue 70">70</a> ] [ <a href="../../issues/71/1.html" title="Issue 71">71</a> ] 
</div>
<div class="opt" align="center"><div class="rt"><a href="../../archives/tgz/phrack24.tar.gz" title="Get current issue tar.gz">Get tar.gz</a></div><strong>Current issue</strong> : #<a href="../../archives/tgz/phrack24.tar.gz" title="Get current issue tar.gz">24</a> | <strong>Release date</strong> : <b>1989-02-25</b> | <strong>Editor</strong> : <b>Taran King</b></div>

<div style="border-top: 1px solid black; border-bottom: 2px solid black">
<table class="tissue" cellpadding="0" cellspacing="0">
   <tbody>
      <tr><td align="left"><a href="../../issues/24/1.html#article">Phrack Inc. XXIV Index</a></td><td align="right">Knight Lightning &amp; Taran King</td></tr>
<tr><td align="left"><a href="../../issues/24/2.html#article">Phrack Pro-Phile XXIV Featuring Chanda Leir</a></td><td align="right">Taran King</td></tr>
<tr><td align="left"><a href="../../issues/24/3.html#article">Limbo To Infinity; Chapter Three of FTSaga</a></td><td align="right">Knight Lightning</td></tr>
<tr><td align="left"><a href="../../issues/24/4.html#article">Frontiers; Chapter Four of FTSaga</a></td><td align="right">Knight Lightning</td></tr>
<tr><td align="left"><a href="../../issues/24/5.html#article">Control Office Administration Of Enhanced 911 Service</a></td><td align="right">The Eavesdropper</td></tr>
<tr><td align="left"><a href="../../issues/24/6.html#article">Glossary Terminology For Enhanced 911 Service</a></td><td align="right">The Eavesdropper</td></tr>
<tr><td align="left"><a href="../../issues/24/7.html#article">Advanced Bitnet Procedures</a></td><td align="right">VaxBuster</td></tr>
<tr><td align="left"><a href="../../issues/24/8.html#article">Special Area Codes</a></td><td align="right">unknown</td></tr>
<tr><td align="left"><a href="../../issues/24/9.html#article">Lifting Ma Bell's Cloak Of Secrecy</a></td><td align="right">VaxCat</td></tr>
<tr><td align="left"><a href="../../issues/24/10.html#article">Network Progression</a></td><td align="right">Dedicated Link</td></tr>
<tr><td align="left"><a href="../../issues/24/11.html#article">Phrack World News XXIV</a></td><td align="right">Knight Lightning</td></tr>
<tr><td align="left"><a href="../../issues/24/12.html#article">Phrack World News XXIV</a></td><td align="right">Knight Lightning</td></tr>
<tr><td align="left"><a href="../../issues/24/13.html#article">Phrack World News XXIV</a></td><td align="right">Knight Lightning</td></tr>

   </tbody>
</table>

<div class="opt" id="article"><strong>Title</strong> : Advanced Bitnet Procedures</div>
<div class="opt-bottom"> <strong>Author</strong> : VaxBuster</div>
<pre>                                ==Phrack Inc.==

                      Volume Two, Issue 24, File 7 of 13

               ()()()()()()()()()()()()()()()()()()()()()()()()
               ()                                            ()
               ()         Advanced Bitnet Procedures         ()
               ()                                            ()
               ()                     by                     ()
               ()                                            ()
               ()          VAXBusters International          ()
               ()                                            ()
               ()()()()()()()()()()()()()()()()()()()()()()()()


Greetings!  I have taken the time to write up a file about some of the more
complex operations on Bitnet.  I hope you enjoy it!                         :-)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

You can send multiple messages to one user@node under VAX/VMS &amp; JNET by just
typing;

          $ SEND/REMOTE &lt;host&gt; &lt;user&gt;

This will collect messages from the terminal until an empty line or CTRL-Z is
entered.

Under Unix, the UREP package is popular to connect Unix boxes to Bitnet.  The
important user commands are as follows:


Messages
~~~~~~~~
netwrite user@host

Send one or more messages to the specified Bitnet user.  Netwrite reads
messages from it's standard input until an EOF is reached.  If called from a
terminal, netwrite will terminate on an empty line as well.

When you receive Bitnet messages on a Unix host, UREP looks for an executable
file named .exwrite in your home directory.  If it doesn't find such a file,
the message is simply spit on your terminal.  If .exwrite is present, UREP
executes this program (which can be a shell script) with five parameters:

        &lt;To System&gt; &lt;To User&gt; &lt;From System&gt; &lt;From User&gt; &lt;Tty&gt;

The &lt;Tty&gt; parameter tells the terminal to which UREP wanted to send the
message.  UREP then feeds the messages to .exwrite as standard input.  The
format of standard input is as follows:

        &lt;count (1 byte)&gt;&lt;message (&lt;count&gt; bytes)&gt;

To display these messages you need to have a &quot;C&quot; program, since a shell script
is not capable of handling single bytes painlessly.  I included my exwrite.c at
the end of this file for a start.

Typically, .exwrite is used to log all incoming Bitnet messages.  You can of
course blow it up to send messages back to the sender when you're out to lunch,
etc. BTW, .exwrite is called with the user ID of the receiving user, so it's no
real security hole.


File Transfer
~~~~~~~~~~~~~
netcopy user@host [ options ]

Copy a file to the specified Bitnet user.  The most important option is
&quot;name=&lt;fname&gt;.&lt;ftype&gt;&quot;, with which you can specify the file name to be used
at the recipient's machine.  More details are in the manual page.

When you receive Bitnet files on a Unix machine running UREP, they will
be placed in your home directory under the name &quot;:&lt;fname&gt;.&lt;ftype&gt;&quot;.  These
files are in NETDATA format, and they have to be converted to ASCII text files
when you want to use them under Unix.  This can be done with the command;

netdata [ &lt;input_file&gt; [ &lt;output_file&gt; ] ]

When &lt;input_file&gt; is unspecified, standard input is used.  If &lt;output_file&gt; is
unspecified, standard output is used.


Bitnet Commands
~~~~~~~~~~~~~~~
Though Bitnet has no remote login capability, you can execute a (restricted)
set of commands on remote hosts.  These commands can be used to query node
status, lists of logged-on users, time and some other things.

This works as follows:

        JNET:   $ SEND/COMMAND &lt;host&gt; [ &lt;command&gt; ]
        UREP:   % netexec &lt;host&gt; [ &lt;command&gt; ]
        CMS:    SMSG &lt;server&gt; CMD &lt;host&gt; &lt;command&gt;

The &lt;server&gt; under CMS is the Bitnet control process.  In Europe, it is
normally called &quot;EARN.&quot;  In the USA, it could be &quot;BITNET&quot; or maybe &quot;RSCS.&quot;
You're on your own here.

The &lt;host&gt; is the Bitnet host name which you want to execute the &lt;command&gt;.
With JNET and UREP, you will be asked for multiple commands when you leave the
&lt;command&gt; field empty.  Again, input is terminated with EOF or an empty line.

I have found the following commands useful in daily life:

        CPQ N           Get a list of the users currently logged in at the
                        &lt;host&gt;.  This command is supposed to exist on every
                        Bitnet host, but some system managers like to restrict
                        it for security reasons.  On JNET and UREP hosts,
                        FINGER performs a similar, but more elaborate function.

        CPQ T           Make &lt;host&gt; tell you the current time at it's location.

        Q &lt;otherhost&gt;   Make &lt;host&gt; tell you what the next hop to &lt;otherhost&gt;
                        is.  This is useful when you're interested in the
                        network topology.

        Q &lt;ohost&gt; A     This makes &lt;host&gt; tell you what file is currently
                        active (being transmitted) for &lt;ohost&gt;.  This only
                        works for machines which are directly connected to
                        &lt;host&gt;.

        Q &lt;ohost&gt; Q     This makes &lt;host&gt; show you the queue of files currently
                        waiting for transmission to &lt;ohost&gt;.  This is useful
                        when you want to trace some file which you sent to the
                        network.

        Q SYS           This makes &lt;host&gt; tell you about the RSCS links it has.

Unfortunately, MVS-Hosts don't understand any of these commands, but simply
give an error message.  You can recognize these things by the string &quot;HASP&quot;
somewhere in the error message.

        Enjoy !

exwrite.c For Unix Hosts Running UREP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

&lt;-- cut here --&gt;
/* exwrite.c - formatter for UREP rscs messages                         */

include &lt;stdio.h&gt;
include &lt;sysexits.h&gt;
include &lt;pwd.h&gt;
include &lt;ctype.h&gt;

main(argc, argv)

        int             argc;
        char            *argv[];
       struct  passwd  *pw;
        char            fname[255];
        FILE            *term;
        FILE            *log;
        int             count;
        char            buf[1024];
        char            *from_user;
        char            *from_host;
        char            *to_user;
        char            *to_host;
        char            *to_tty;
        char            *home_dir = &quot;/tmp&quot;;

        if (argc != 6)
                fprintf(stderr, &quot;%s: Invalid arguments\n&quot;, argv[0]);
                exit(EX_USAGE);


        /* initialise variables                                         */
        to_host = argv[1];
        to_user = argv[2];
        from_host = argv[3];
        from_user = argv[4];
        to_tty = argv[5];

        /* convert the receiving user to lowercase.  Under Unix, all    *
         * user names normally are lower case, and we need a valid      *
         * user name to determine the home directory                    */
        for (; *to_user; to_user++)
                *to_user = tolower(*to_user);
        to_user = argv[2];

        /* get the home directory of the receiving user                 */
        if (pw = getpwnam(to_user))
                home_dir = pw-&gt;pw_dir;

        /* open the terminal, exit if the open fails                    */
        sprintf(fname, &quot;/dev/%s&quot;, to_tty);
        if (!(term = fopen(fname, &quot;w&quot;)))
                exit(EX_OSERR);

        /* open the rscs log file                                       */
        sprintf(fname, &quot;%s/.rscslog&quot;, home_dir);
        log = fopen(fname, &quot;a&quot;);

        /* if the message is not coming from the relay, write the       *
         * sending user and host name to the specified terminal         */
        if (strcmp(from_user, &quot;RELAY&quot;))
                fprintf(term, &quot;From %s@%s:\r\n&quot;, from_user, from_host);

        /* read in the RSCS messages and send them to the terminal      *
         * and to the logfile if it has been opened.                    *
         * In the log file, all lines are preceded by the sending user  *
         * and host name.                                               */
        while ((count = getchar()) != EOF)
                if ((count = fread(buf, 1, count, stdin)) &gt; 0)
                        fwrite(buf, 1, count, term);
                        fprintf(term, &quot;\r\n&quot;);
                        if (log)
                                fprintf(log, &quot;%s@%s: &quot;, from_user, from_host);
                                fwrite(buf, 1, count, log);
                                fprintf(log, &quot;\n&quot;);




        exit(EX_OK);
_______________________________________________________________________________
</pre>

</div>
</div>

</center>

<div align="center" class="texto-2-bold">
[ <a href="../../index.html" title="News">News</a> ]
[ <a href="../../" title="Paper Feed">Paper Feed</a> ]
[ <a href="../../issues/71/1.html" title="Issues">Issues</a> ]
[ <a href="../../authors.html" title="Authors">Authors</a> ]
[ <a href="../../archives/" title="Archives">Archives</a> ]
[ <a href="../../contact.html" title="Contact">Contact</a> ]
</div>

<div align="right" class="texto-1">© Copyleft 1985-2024, Phrack Magazine.</div>
</body>
</html>
